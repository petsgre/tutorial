<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <title>singleton-patterns</title>
  </head>

  <body>
    <script type="text/javascript">
      const instance = function (fn) {
	  let _instance
	  return function (param) {
              return _instance || (_instance = fn())
	  }
      }
      const createNode = function () {
	  let node = document.createElement('div')
	  document.body.appendChild(node)
	  node.innerHTML = '新节点'
	  return node
      }
      const initDiv = instance(createNode)
      let instance1 = initDiv(1)
      let instance2 = initDiv(2)
      console.log(instance1 == instance2);
    </script>
  </body>

</html>
